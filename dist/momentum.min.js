'use strict';var d=this;function f(a,b){a=a.split(".");var c=d;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)a.length||void 0===b?c[e]&&Object.prototype.hasOwnProperty.call(c,e)?c=c[e]:c=c[e]={}:c[e]=b}function g(a){var b=typeof a;return"object"==b&&null!=a||"function"==b};function h(a,b){this.x=a||0;this.y=b||0}function k(a,b,c){a.x=Math.min(Math.max(a.x,b),c);a.y=Math.min(Math.max(a.y,b),c)};function l(a){this.b=a;this.a=Date.now()};var m="",n={};function p(){var a="",b;if(n.hasOwnProperty("transform"))return n.transform;""!=m?b=m:(b=window.getComputedStyle(document.documentElement,""),b=m=(Array.prototype.slice.call(b).join("").match(/-(moz|webkit|ms)-/)||b.a&&""===b.a&&["","o"])[1]);var c=b[0].toUpperCase()+b.substr(1);0<b.length&&(a="Transform",n.transform=c+a);return c+a};function q(a){this.h=a||document.documentElement;this.l=this.h.getBoundingClientRect();this.a=new h;this.u=[];this.s=new h;this.w=new h;this.b=new h;this.g=new h;this.f={H:0,F:0,I:0,G:0};this.N=this.B=this.o=this.R=this.P=this.ba=this.J=!1;this.L=0;this.S=[];this.T=[];this.O=null;this.v=new h(.035,.035);this.m=new h(0,0);this.C=new h(.1,.1);this.j=new h(0,0);this.M=5;this.A=70;this.i={};this.ca={passive:!1,useCapture:!1}}q.prototype.onMove=function(a,b){this.S.push(a.bind(b||this))};
q.prototype.onMove=q.prototype.onMove;q.prototype.onDown=function(a,b){this.O=a.bind(b||this)};q.prototype.onDown=q.prototype.onDown;q.prototype.onUp=function(a,b){this.T.push(a.bind(b||this))};q.prototype.onUp=q.prototype.onUp;q.prototype.da=function(a){this.v.x=this.v.y=a;k(this.v,0,1)};q.prototype.setFriction=q.prototype.da;q.prototype.fa=function(a){this.C.x=this.C.y=a;k(this.C,0,1)};q.prototype.setOffsetFriction=q.prototype.fa;q.prototype.ha=function(a){this.M=a};q.prototype.setThreshold=q.prototype.ha;
q.prototype.ga=function(a){this.j.x=this.j.y=a;k(this.j,-1,1)};q.prototype.setRestitution=q.prototype.ga;q.prototype.ea=function(a){this.A=Math.max(a,0)};q.prototype.setMaxVelocity=q.prototype.ea;q.prototype.ja=function(){return this.v};q.prototype.getFriction=q.prototype.ja;q.prototype.na=function(){return this.M};q.prototype.getThreshold=q.prototype.na;q.prototype.la=function(){return this.j};q.prototype.getRestitution=q.prototype.la;q.prototype.ka=function(){return this.A};
q.prototype.getMaxVelocity=q.prototype.ka;q.prototype.ma=function(){return this.h};q.prototype.getTarget=q.prototype.ma;q.prototype.U=function(a){a&&(this.l=this.h.getBoundingClientRect());return this.l};q.prototype.getTargetBounds=q.prototype.U;q.prototype.setPosition=function(a,b,c){this.a.x=a;this.a.y=b;c&&(this.w.x=a,this.w.y=b,this.N&&(this.b.x=0,this.b.y=0))};q.prototype.setPosition=q.prototype.setPosition;
q.prototype.V=function(){"ontouchstart"in window||navigator.msMaxTouchPoints?this.i={touchend:{target:this.h,listener:this.K.bind(this)},touchcancel:{target:this.h,listener:this.K.bind(this)},touchstart:{target:this.h,listener:this.$.bind(this)},touchmove:{target:this.h,listener:this.aa.bind(this)}}:this.i={mouseup:{target:this.h,listener:this.K.bind(this)},mouseleave:{target:this.h,listener:this.K.bind(this)},mousedown:{target:this.h,listener:this.$.bind(this)},mousemove:{target:this.h,listener:this.aa.bind(this)}};
this.i.scroll={target:window,listener:this.update.bind(this)};for(var a in this.i)this.i[a].target.addEventListener(a,this.i[a].listener,this.ca)};q.prototype.init=q.prototype.V;q.prototype.D=function(){for(var a in this.i)this.i[a].target.removeEventListener(a,this.i[a].listener,this.ca);this.i={};this.stop()};q.prototype.destroy=q.prototype.D;q.prototype.stop=function(){this.J=!0;this.B=!1};q.prototype.stop=q.prototype.stop;q.prototype.start=function(){this.J=!1;this.B=!0};q.prototype.start=q.prototype.start;
q.prototype.W=function(a,b,c,e){this.f.H=a||0;this.f.F=b||0;this.f.I=c||0;this.f.G=e||0;this.P=!!this.f.H||!!this.f.F;this.R=!!this.f.I||!!this.f.G;this.ba=this.P||this.R};q.prototype.setBounds=q.prototype.W;q.prototype.update=function(){this.l=this.h.getBoundingClientRect();r(this)};q.prototype.update=q.prototype.update;function t(a,b){b=b.getBoundingClientRect();return new h(b.left-a.l.left,b.top-a.l.top)}
function u(a,b){var c=new h;b.touches?(c.x=b.touches[0].clientX-a.l.left,c.y=b.touches[0].clientY-a.l.top):(c.x=b.clientX-a.l.left,c.y=b.clientY-a.l.top);return c}q.prototype.$=function(a){a=u(this,a);if(!this.O||this.O(a.x,a.y))this.o=!0,this.B=!1,this.s.x=this.a.x=a.x,this.s.y=this.a.y=a.y,this.L=Date.now(),this.b.x=0,this.b.y=0,r(this),this.Y()};
q.prototype.Y=function(){var a=this.a;this.u.push(new l(new h(a.x,a.y)));for(var a=Date.now(),b=[],c=0,e=this.u.length;c<e;c++)50<=a-this.u[c].a&&b.push(c);c=0;for(e=b.length;c<e;c++)this.u.splice(b[c],1);0<this.u.length&&(a=this.u[0],this.s=a.b,this.L=a.a);this.o&&(this.J||(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)(this.Y.bind(this)))};
q.prototype.aa=function(a){this.o&&(a.preventDefault(),a.stopPropagation(),a=u(this,a),this.a.x=a.x,this.a.y=a.y,r(this))};q.prototype.K=function(){if(this.o){this.o=!1;this.B=!0;var a=(Date.now()-this.L)/15;this.b.x=(this.a.x-this.s.x)/a;this.b.y=(this.a.y-this.s.y)/a;k(this.b,-this.A,this.A);this.s.x=0;this.L=this.s.y=0;this.u=[];(Math.abs(this.b.x)>=this.M||Math.abs(this.b.y)>=this.M||0!=this.g.x||0!=this.g.y)&&this.Z();for(var a=0,b=this.T.length;a<b;a++)this.T[a]()}};
function r(a){if(a.ba){if(a.P)if(0<=a.j.x){var b=a.a;b.x=Math.min(Math.max(b.x,a.f.H),a.f.F);if(a.a.x<=a.f.H||a.a.x>=a.f.F)a.b.x=-1*a.b.x*a.j.x}else{0!=a.g.x?(a.m.x=a.C.x,0!=a.g.x&&(b=a.j.x,a.o&&(b/=2),a.a.x+=v(a.g.x*(1+b)))):a.m.x=0;var c=b=0;0<(b=a.f.H-a.a.x)?a.g.x=b:0>(c=a.f.F-a.a.x)?a.g.x=c:a.g.x=0}if(a.R)if(0<=a.j.y){if(b=a.a,b.y=Math.min(Math.max(b.y,a.f.I),a.f.G),a.a.y<=a.f.I||a.a.y>=a.f.G)a.b.y=-1*a.b.y*a.j.y}else 0!=a.g.y?(a.m.y=a.C.y,0!=a.g.y&&(b=a.j.x,a.o&&(b/=2),a.a.y+=v(a.g.y*(1+b)))):
a.m.y=0,c=b=0,0<(b=a.f.I-a.a.y)?a.g.y=b:0>(c=a.f.G-a.a.y)?a.g.y=c:a.g.y=0}if(a.a.x!=a.w.x||a.a.y!=a.w.y){b=0;for(c=a.S.length;b<c;b++)a.S[b](a.a.x,a.a.y,a.b.x,a.b.y);a.w.x=a.a.x;a.w.y=a.a.y}}function v(a){a=a.toString();return parseFloat(a.substring(0,a.indexOf(".")+4))||0}
q.prototype.Z=function(){if(this.B){this.N=!0;if(0<Math.abs(this.b.x)){var a=0<this.m.x?this.m.x:this.v.x;this.b.x=v(this.b.x*(1-a));this.a.x+=this.b.x;this.a.x=parseFloat(this.a.x.toFixed(3))}0<Math.abs(this.b.y)&&(a=0<this.m.y?this.m.y:this.v.y,this.b.y=v(this.b.y*(1-a)),this.a.y+=this.b.y,this.a.y=parseFloat(this.a.y.toFixed(3)));k(this.b,-this.A,this.A);r(this);0<Math.abs(this.b.x)||0<Math.abs(this.b.y)||0!=this.g.x||0!=this.g.y?this.J||(window.requestAnimationFrame||window.webkitRequestAnimationFrame||
window.mozRequestAnimationFrame)(this.Z.bind(this)):this.N=!1}};function w(a,b){this.g=a;this.c=b||{};this.f=this.g.getBoundingClientRect();this.i=new h(.5,.5);this.b=new h;this.h=new h;this.a=null;this.j=!1;x(this)}w.prototype.c={};w.prototype.config=w.prototype.c;
w.prototype.ia=function(){this.c.restitution&&!isNaN(this.c.restitution)&&this.a.ga(this.c.restitution);this.c.friction&&!isNaN(this.c.friction)&&this.a.da(this.c.friction);this.c.offsetFriction&&!isNaN(this.c.offsetFriction)&&this.a.fa(this.c.offsetFriction);this.c.threshold&&!isNaN(this.c.threshold)&&this.a.ha(this.c.threshold);this.c.maxVelocity&&!isNaN(this.c.maxVelocity)&&this.a.ea(this.c.maxVelocity)};w.prototype.updateSettings=w.prototype.ia;
w.prototype.X=function(a){!this.c.elementBounds||!a&&this.c.bounds||(this.c.bounds=this.c.elementBounds.getBoundingClientRect());if(this.c.bounds)this.a.W(this.c.bounds.x+this.b.x,this.c.bounds.x+this.c.bounds.width-(this.f.width-this.b.x),this.c.bounds.y+this.b.y,this.c.bounds.y+this.c.bounds.height-(this.f.height-this.b.y));else if(this.c.containerBounds){a=this.a.U(a);var b=this.f.width>a.width,c=this.f.height>a.height;this.a.W(b?this.b.x+a.width-this.f.width:this.b.x,b?this.b.x:a.width-(this.f.width-
this.b.x),c?this.b.y+a.height-this.f.height:this.b.y,c?this.b.y:a.height-(this.f.height-this.b.y))}};w.prototype.updateBounds=w.prototype.X;
w.prototype.update=function(a){a=a&&!0===a;this.f=this.g.getBoundingClientRect();this.c.autoAnchor||(this.i.x=this.c.anchorX||this.i.x,this.i.y=this.c.anchorY||this.i.y,this.b.x=this.f.width*this.i.x,this.b.y=this.f.height*this.i.y);this.h.x=this.g.offsetLeft;this.h.y=this.g.offsetTop;for(var b=new h,c=this.g.parentElement;c;){if(c!=this.a.h){var e;e=window.getComputedStyle(c).position;if("relative"==e||"absolute"==e)e=c.getBoundingClientRect(),e.left>b.x&&(b.x=e.left),e.top>b.y&&(b.y=e.top)}else break;
c=c.parentElement}this.h.x+=b.x;this.h.y+=b.y;this.X(!0);a||this.a.update()};w.prototype.update=w.prototype.update;w.prototype.reset=function(){this.D();this.restore()};w.prototype.reset=w.prototype.reset;w.prototype.D=function(){this.j=!0;this.a.D();delete this.a;this.a=null;var a=this.g;a.style.transform="";a.style[p()]=""};w.prototype.destroy=w.prototype.D;w.prototype.restore=function(){this.j=!1;x(this)};w.prototype.restore=w.prototype.restore;
function x(a){a.a=new q(a.c.container);a.a.onUp(a.l,a);a.a.onDown(a.m,a);a.a.onMove(a.o,a);a.ia();z(a);a.update();a.a.V();a.c.resizeUpdate&&window.addEventListener("resize",function(){setTimeout(function(){z(this);this.update()}.bind(this),0)}.bind(a),!1)}function z(a){var b=t(a.a,a.g);a.a.setPosition(b.x+a.b.x,b.y+a.b.y,!0)}
w.prototype.m=function(a,b){if(this.j)return!1;var c=t(this.a,this.g),e;e=c.x;var y=c.y;e=a>=e&&a<e+this.f.width&&b>=y&&b<y+this.f.height;this.c.autoAnchor&&e&&(this.b.x=a-c.x,this.b.y=b-c.y,this.X());return this.c.onDown&&(a=this.c.onDown(e,a,b,c.x,c.y,this.f.width,this.f.height),"boolean"==typeof a)?a:e};w.prototype.l=function(){if(!this.j&&this.c.onUp)this.c.onUp()};
w.prototype.o=function(a,b,c,e){if(!this.j&&(this.c.onMove&&(c=this.c.onMove(a,b,c,e),g(c)&&(c.hasOwnProperty("x")&&(a=parseFloat(c.x)),c.hasOwnProperty("y")&&(b=parseFloat(c.y)))),!this.j&&(a=a-this.b.x-this.h.x,b=b-this.b.y-this.h.y,this.c.lockAxis&&g(this.c.lockAxis)&&(1==this.c.lockAxis.y&&(b=0),1==this.c.lockAxis.x&&(a=0)),c=this.g,e="translate3d("+a+"px,"+b+"px,0)",c.style.transform=e,c.style[p()]=e,this.c.onTranslate)))this.c.onTranslate(a,b,this.f.width,this.f.height,this.c.bounds?this.c.bounds:
this.a.U())};function A(a){this.f=a;this.g=this.f.getBoundingClientRect();this.b=null;this.h=this.a=0;this.b=new q(this.f.parentElement);this.b.onDown(this.i,this);this.b.onMove(this.j,this);this.b.V()}function B(a,b,c){return 180-180/Math.PI*Math.atan2(a-c,b-c)}A.prototype.i=function(a,b){this.h=B(a,b,this.g.width/2)-this.a;return!0};A.prototype.j=function(a,b){this.a=B(a,b,this.g.width/2)-this.h;this.a%=360;this.f.style.transform="rotate("+this.a+"deg)"};f("momentum.Handler",q);f("momentum.Draggable",w);f("momentum.Rotatable",A);
