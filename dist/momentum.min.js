'use strict';var d=this;function f(a,b){a=a.split(".");var c=d;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)a.length||void 0===b?c[e]&&Object.prototype.hasOwnProperty.call(c,e)?c=c[e]:c=c[e]={}:c[e]=b};function g(a,b){this.x=a||0;this.y=b||0}function l(a,b,c){a.x=Math.min(Math.max(a.x,b),c);a.y=Math.min(Math.max(a.y,b),c)};function m(a){this.b=a;this.a=Date.now()};var n="",p={};function q(a){this.h=a||document.documentElement;this.j=this.h.getBoundingClientRect();this.a=new g;this.s=[];this.o=new g;this.w=new g;this.b=new g;this.g=new g;this.c={D:0,B:0,F:0,C:0};this.L=this.K=this.m=this.O=this.N=this.Z=!1;this.I=0;this.P=[];this.M=null;this.v=new g(.035,.035);this.l=new g(0,0);this.G=new g(.1,.1);this.i=new g(0,0);this.J=5;this.A=70}q.prototype.onMove=function(a,b){this.P.push(a.bind(b||this))};q.prototype.onMove=q.prototype.onMove;
q.prototype.onDown=function(a,b){this.M=a.bind(b||this)};q.prototype.onDown=q.prototype.onDown;q.prototype.$=function(a){this.v.x=this.v.y=a;l(this.v,0,1)};q.prototype.setFriction=q.prototype.$;q.prototype.ba=function(a){this.G.x=this.G.y=a;l(this.G,0,1)};q.prototype.setOffsetFriction=q.prototype.ba;q.prototype.da=function(a){this.J=a};q.prototype.setThreshold=q.prototype.da;q.prototype.ca=function(a){this.i.x=this.i.y=a;l(this.i,-1,1)};q.prototype.setRestitution=q.prototype.ca;
q.prototype.aa=function(a){this.A=Math.max(a,0)};q.prototype.setMaxVelocity=q.prototype.aa;q.prototype.fa=function(){return this.v};q.prototype.getFriction=q.prototype.fa;q.prototype.ja=function(){return this.J};q.prototype.getThreshold=q.prototype.ja;q.prototype.ha=function(){return this.i};q.prototype.getRestitution=q.prototype.ha;q.prototype.ga=function(){return this.A};q.prototype.getMaxVelocity=q.prototype.ga;q.prototype.ia=function(){return this.h};q.prototype.getTarget=q.prototype.ia;
q.prototype.R=function(a){a&&(this.j=this.h.getBoundingClientRect());return this.j};q.prototype.getTargetBounds=q.prototype.R;q.prototype.setPosition=function(a,b,c){this.a.x=a;this.a.y=b;c&&(this.w.x=a,this.w.y=b,this.L&&(this.b.x=0,this.b.y=0))};q.prototype.setPosition=q.prototype.setPosition;
q.prototype.S=function(){"ontouchstart"in window||navigator.msMaxTouchPoints?(this.h.addEventListener("touchend",this.H.bind(this),{passive:!1,u:!1}),this.h.addEventListener("touchcancel",this.H.bind(this),{passive:!1,u:!1}),this.h.addEventListener("touchstart",this.X.bind(this),{passive:!1,u:!1}),this.h.addEventListener("touchmove",this.Y.bind(this),{passive:!1,u:!1})):(this.h.addEventListener("mouseup",this.H.bind(this),{passive:!1,u:!1}),this.h.addEventListener("mouseleave",this.H.bind(this),{passive:!1,
u:!1}),this.h.addEventListener("mousedown",this.X.bind(this),{passive:!1,u:!1}),this.h.addEventListener("mousemove",this.Y.bind(this),{passive:!1,u:!1}));window.addEventListener("scroll",this.update.bind(this),!1)};q.prototype.init=q.prototype.S;q.prototype.T=function(a,b,c,e){this.c.D=a||0;this.c.B=b||0;this.c.F=c||0;this.c.C=e||0;this.N=!!this.c.D||!!this.c.B;this.O=!!this.c.F||!!this.c.C;this.Z=this.N||this.O};q.prototype.setBounds=q.prototype.T;
q.prototype.update=function(){this.j=this.h.getBoundingClientRect();r(this)};q.prototype.update=q.prototype.update;function t(a,b){b=b.getBoundingClientRect();return new g(b.left-a.j.left,b.top-a.j.top)}function u(a,b){var c=new g;b.touches?(c.x=b.touches[0].clientX-a.j.left,c.y=b.touches[0].clientY-a.j.top):(c.x=b.clientX-a.j.left,c.y=b.clientY-a.j.top);return c}
q.prototype.X=function(a){a=u(this,a);if(!this.M||this.M(a.x,a.y))this.m=!0,this.K=!1,this.o.x=this.a.x=a.x,this.o.y=this.a.y=a.y,this.I=Date.now(),this.b.x=0,this.b.y=0,r(this),this.V()};
q.prototype.V=function(){var a=this.a;this.s.push(new m(new g(a.x,a.y)));for(var a=Date.now(),b=[],c=0,e=this.s.length;c<e;c++)50<=a-this.s[c].a&&b.push(c);c=0;for(e=b.length;c<e;c++)this.s.splice(b[c],1);0<this.s.length&&(a=this.s[0],this.o=a.b,this.I=a.a);this.m&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)(this.V.bind(this))};q.prototype.Y=function(a){this.m&&(a.preventDefault(),a.stopPropagation(),a=u(this,a),this.a.x=a.x,this.a.y=a.y,r(this))};
q.prototype.H=function(){if(this.m){this.m=!1;this.K=!0;var a=(Date.now()-this.I)/15;this.b.x=(this.a.x-this.o.x)/a;this.b.y=(this.a.y-this.o.y)/a;l(this.b,-this.A,this.A);this.o.x=0;this.I=this.o.y=0;this.s=[];(Math.abs(this.b.x)>=this.J||Math.abs(this.b.y)>=this.J||0!=this.g.x||0!=this.g.y)&&this.W()}};
function r(a){if(a.Z){if(a.N)if(0<=a.i.x){var b=a.a;b.x=Math.min(Math.max(b.x,a.c.D),a.c.B);if(a.a.x<=a.c.D||a.a.x>=a.c.B)a.b.x=-1*a.b.x*a.i.x}else{0!=a.g.x?(a.l.x=a.G.x,0!=a.g.x&&(b=a.i.x,a.m&&(b/=2),a.a.x+=v(a.g.x*(1+b)))):a.l.x=0;var c=b=0;0<(b=a.c.D-a.a.x)?a.g.x=b:0>(c=a.c.B-a.a.x)?a.g.x=c:a.g.x=0}if(a.O)if(0<=a.i.y){if(b=a.a,b.y=Math.min(Math.max(b.y,a.c.F),a.c.C),a.a.y<=a.c.F||a.a.y>=a.c.C)a.b.y=-1*a.b.y*a.i.y}else 0!=a.g.y?(a.l.y=a.G.y,0!=a.g.y&&(b=a.i.x,a.m&&(b/=2),a.a.y+=v(a.g.y*(1+b)))):
a.l.y=0,c=b=0,0<(b=a.c.F-a.a.y)?a.g.y=b:0>(c=a.c.C-a.a.y)?a.g.y=c:a.g.y=0}if(a.a.x!=a.w.x||a.a.y!=a.w.y){b=0;for(c=a.P.length;b<c;b++)a.P[b](a.a.x,a.a.y,a.b.x,a.b.y);a.w.x=a.a.x;a.w.y=a.a.y}}function v(a){a=a.toString();return parseFloat(a.substring(0,a.indexOf(".")+4))||0}
q.prototype.W=function(){if(this.K){this.L=!0;if(0<Math.abs(this.b.x)){var a=0<this.l.x?this.l.x:this.v.x;this.b.x=v(this.b.x*(1-a));this.a.x+=this.b.x;this.a.x=parseFloat(this.a.x.toFixed(3))}0<Math.abs(this.b.y)&&(a=0<this.l.y?this.l.y:this.v.y,this.b.y=v(this.b.y*(1-a)),this.a.y+=this.b.y,this.a.y=parseFloat(this.a.y.toFixed(3)));l(this.b,-this.A,this.A);r(this);0<Math.abs(this.b.x)||0<Math.abs(this.b.y)||0!=this.g.x||0!=this.g.y?(window.requestAnimationFrame||window.webkitRequestAnimationFrame||
window.mozRequestAnimationFrame)(this.W.bind(this)):this.L=!1}};function w(a,b){this.g=a;this.f=b||{};this.c=this.g.getBoundingClientRect();this.i=new g(.5,.5);this.a=new g;this.h=new g;this.b=null;y(this)}w.prototype.f={};w.prototype.config=w.prototype.f;
w.prototype.ea=function(){this.f.restitution&&!isNaN(this.f.restitution)&&this.b.ca(this.f.restitution);this.f.friction&&!isNaN(this.f.friction)&&this.b.$(this.f.friction);this.f.offsetFriction&&!isNaN(this.f.offsetFriction)&&this.b.ba(this.f.offsetFriction);this.f.threshold&&!isNaN(this.f.threshold)&&this.b.da(this.f.threshold);this.f.maxVelocity&&!isNaN(this.f.maxVelocity)&&this.b.aa(this.f.maxVelocity)};w.prototype.updateSettings=w.prototype.ea;
w.prototype.U=function(a){if(this.f.bounds)this.b.T(this.f.bounds.x+this.a.x,this.f.bounds.x+this.f.bounds.width-(this.c.width-this.a.x),this.f.bounds.y+this.a.y,this.f.bounds.y+this.f.bounds.height-(this.c.width-this.a.y));else if(this.f.containerBounds){a=this.b.R(a);var b=this.c.width>a.width,c=this.c.height>a.height;this.b.T(b?this.a.x+a.width-this.c.width:this.a.x,b?this.a.x:a.width-(this.c.width-this.a.x),c?this.a.y+a.height-this.c.height:this.a.y,c?this.a.y:a.height-(this.c.height-this.a.y))}};
w.prototype.updateBounds=w.prototype.U;
w.prototype.update=function(a){a=a&&!0===a;this.c=this.g.getBoundingClientRect();this.f.autoAnchor||(this.i.x=this.f.anchorX||this.i.x,this.i.y=this.f.anchorY||this.i.y,this.a.x=this.c.width*this.i.x,this.a.y=this.c.height*this.i.y);this.h.x=this.g.offsetLeft;this.h.y=this.g.offsetTop;for(var b=new g,c=this.g.parentElement;c;){if(c!=this.b.h){var e;e=window.getComputedStyle(c).position;if("relative"==e||"absolute"==e)e=c.getBoundingClientRect(),e.left>b.x&&(b.x=e.left),e.top>b.y&&(b.y=e.top)}else break;
c=c.parentElement}this.h.x+=b.x;this.h.y+=b.y;this.U(!0);a||this.b.update()};w.prototype.update=w.prototype.update;function y(a){a.b=new q(a.f.container);a.b.onDown(a.j,a);a.b.onMove(a.l,a);a.ea();z(a);a.update();a.b.S();a.f.resizeUpdate&&window.addEventListener("resize",function(){setTimeout(function(){z(this);this.update()}.bind(this),0)}.bind(a),!1)}function z(a){var b=t(a.b,a.g);a.b.setPosition(b.x+a.a.x,b.y+a.a.y,!0)}
w.prototype.j=function(a,b){var c=t(this.b,this.g),e;e=c.x;var h=c.y;e=a>=e&&a<e+this.c.width&&b>=h&&b<h+this.c.height;this.f.autoAnchor&&e&&(this.a.x=a-c.x,this.a.y=b-c.y,this.U());return this.f.onDown?this.f.onDown(a,b,c.x,c.y,this.c.width,this.c.height,e):e};
w.prototype.l=function(a,b,c,e){if(this.f.onMove)this.f.onMove(a,b,c,e);a=a-this.a.x-this.h.x;b=b-this.a.y-this.h.y;e=this.g;c="translate3d("+a+"px,"+b+"px,0)";e.style.transform=c;e=e.style;var h;h="";var k;if(p.hasOwnProperty("transform"))h=p.transform;else{""!=n?k=n:(k=window.getComputedStyle(document.documentElement,""),k=n=(Array.prototype.slice.call(k).join("").match(/-(moz|webkit|ms)-/)||k.a&&""===k.a&&["","o"])[1]);var x=k[0].toUpperCase()+k.substr(1);0<k.length&&(h="Transform",p.transform=
x+h);h=x+h}e[h]=c;if(this.f.onTranslate)this.f.onTranslate(a,b,this.c.width,this.c.height,this.b.R())};function A(a){this.c=a;this.g=this.c.getBoundingClientRect();this.b=null;this.h=this.a=0;this.b=new q(this.c.parentElement);this.b.onDown(this.i,this);this.b.onMove(this.j,this);this.b.S()}function B(a,b,c){return 180-180/Math.PI*Math.atan2(a-c,b-c)}A.prototype.i=function(a,b){this.h=B(a,b,this.g.width/2)-this.a;return!0};A.prototype.j=function(a,b){this.a=B(a,b,this.g.width/2)-this.h;this.a%=360;this.c.style.transform="rotate("+this.a+"deg)"};f("momentum.Handler",q);f("momentum.Draggable",w);f("momentum.Rotatable",A);
