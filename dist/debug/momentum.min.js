'use strict';var d=this;function f(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function h(a,b,c){return a.call.apply(a.bind,arguments)}function l(a,b,c){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,e);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function n(a,b,c){n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?h:l;return n.apply(null,arguments)}function p(a,b){a=a.split(".");var c=d;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)a.length||void 0===b?c[e]&&Object.prototype.hasOwnProperty.call(c,e)?c=c[e]:c=c[e]={}:c[e]=b};function q(a,b){this.x=a||0;this.y=b||0}function r(a,b,c){a.x=Math.min(Math.max(a.x,b),c);a.y=Math.min(Math.max(a.y,b),c)};function t(a){this.c=a;this.a=Date.now()};var u="",v={};function w(){var a="",b;if(v.hasOwnProperty("transform"))return v.transform;""!=u?b=u:(b=window.getComputedStyle(document.documentElement,""),b=u=(Array.prototype.slice.call(b).join("").match(/-(moz|webkit|ms)-/)||b.a&&""===b.a&&["","o"])[1]);var c=b[0].toUpperCase()+b.substr(1);0<b.length&&(a="Transform",v.transform=c+a);return c+a}
function x(a,b){for(var c,e,g="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),k=1;k<arguments.length;k++){e=arguments[k];for(c in e)a[c]=e[c];for(var m=0;m<g.length;m++)c=g[m],Object.prototype.hasOwnProperty.call(e,c)&&(a[c]=e[c])}}function y(a,b){for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null}function z(a){return y(a,function(a){return"LI"==a.nodeName})};function A(a){this.h=a||document.documentElement;this.l=this.h.getBoundingClientRect();this.a=new q;this.A=[];this.v=new q;this.B=new q;this.c=new q;this.g=new q;this.f={I:0,G:0,J:0,H:0};this.O=this.C=this.o=this.S=this.R=this.ga=this.K=!1;this.M=0;this.T=[];this.U=[];this.P=null;this.s=new q(.035,.035);this.m=new q(0,0);this.w=new q(.1,.1);this.i=new q(0,0);this.D=5;this.u=70;this.j={};this.ha={passive:!1,useCapture:!1}}A.prototype.onMove=function(a,b){this.T.push(a.bind(b||this))};
A.prototype.onMove=A.prototype.onMove;A.prototype.onDown=function(a,b){this.P=a.bind(b||this)};A.prototype.onDown=A.prototype.onDown;A.prototype.onUp=function(a,b){this.U.push(a.bind(b||this))};A.prototype.onUp=A.prototype.onUp;A.prototype.W=function(a){this.s.x=this.s.y=a;r(this.s,0,1)};A.prototype.setFriction=A.prototype.W;A.prototype.Y=function(a){this.w.x=this.w.y=a;r(this.w,0,1)};A.prototype.setOffsetFriction=A.prototype.Y;A.prototype.$=function(a){this.D=a};A.prototype.setThreshold=A.prototype.$;
A.prototype.Z=function(a){this.i.x=this.i.y=a;r(this.i,-1,1)};A.prototype.setRestitution=A.prototype.Z;A.prototype.X=function(a){this.u=Math.max(a,0)};A.prototype.setMaxVelocity=A.prototype.X;A.prototype.la=function(){return this.s};A.prototype.getFriction=A.prototype.la;A.prototype.na=function(){return this.w};A.prototype.getOffsetFriction=A.prototype.na;A.prototype.qa=function(){return this.D};A.prototype.getThreshold=A.prototype.qa;A.prototype.oa=function(){return this.i};
A.prototype.getRestitution=A.prototype.oa;A.prototype.ma=function(){return this.u};A.prototype.getMaxVelocity=A.prototype.ma;A.prototype.pa=function(){return this.h};A.prototype.getTarget=A.prototype.pa;A.prototype.ia=function(a){a&&(this.l=this.h.getBoundingClientRect());return this.l};A.prototype.getTargetBounds=A.prototype.ia;A.prototype.setPosition=function(a,b,c){this.a.x=a;this.a.y=b;c&&(this.B.x=a,this.B.y=b,this.O&&(this.c.x=0,this.c.y=0))};A.prototype.setPosition=A.prototype.setPosition;
A.prototype.V=function(){"ontouchstart"in window||navigator.msMaxTouchPoints?this.j={touchend:{target:this.h,listener:this.L.bind(this)},touchcancel:{target:this.h,listener:this.L.bind(this)},touchstart:{target:this.h,listener:this.ea.bind(this)},touchmove:{target:this.h,listener:this.fa.bind(this)}}:this.j={mouseup:{target:this.h,listener:this.L.bind(this)},mouseleave:{target:this.h,listener:this.L.bind(this)},mousedown:{target:this.h,listener:this.ea.bind(this)},mousemove:{target:this.h,listener:this.fa.bind(this)}};
this.j.scroll={target:window,listener:this.update.bind(this)};for(var a in this.j)this.j[a].target.addEventListener(a,this.j[a].listener,this.ha)};A.prototype.init=A.prototype.V;A.prototype.F=function(){for(var a in this.j)this.j[a].target.removeEventListener(a,this.j[a].listener,this.ha);this.j={};this.stop()};A.prototype.destroy=A.prototype.F;A.prototype.stop=function(){this.K=!0;this.C=!1};A.prototype.stop=A.prototype.stop;A.prototype.start=function(){this.K=!1;this.C=!0};A.prototype.start=A.prototype.start;
A.prototype.ka=function(a,b,c,e){this.f.I=a||0;this.f.G=b||0;this.f.J=c||0;this.f.H=e||0;this.R=!!this.f.I||!!this.f.G;this.S=!!this.f.J||!!this.f.H;this.ga=this.R||this.S};A.prototype.setBounds=A.prototype.ka;A.prototype.update=function(){this.l=this.h.getBoundingClientRect();C(this)};A.prototype.update=A.prototype.update;function D(a,b){b=b.getBoundingClientRect();return new q(b.left-a.l.left,b.top-a.l.top)}
function E(a,b){var c=new q;b.touches?(c.x=b.touches[0].clientX-a.l.left,c.y=b.touches[0].clientY-a.l.top):(c.x=b.clientX-a.l.left,c.y=b.clientY-a.l.top);return c}A.prototype.ea=function(a){a=E(this,a);if(!this.P||this.P(a.x,a.y))this.o=!0,this.C=!1,this.v.x=this.a.x=a.x,this.v.y=this.a.y=a.y,this.M=Date.now(),this.c.x=0,this.c.y=0,C(this),this.ca()};
A.prototype.ca=function(){var a=this.a;this.A.push(new t(new q(a.x,a.y)));for(var a=Date.now(),b=[],c=0,e=this.A.length;c<e;c++)50<=a-this.A[c].a&&b.push(c);c=0;for(e=b.length;c<e;c++)this.A.splice(b[c],1);0<this.A.length&&(a=this.A[0],this.v=a.c,this.M=a.a);this.o&&(this.K||(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)(this.ca.bind(this)))};
A.prototype.fa=function(a){this.o&&(a.preventDefault(),a.stopPropagation(),a=E(this,a),this.a.x=a.x,this.a.y=a.y,C(this))};A.prototype.L=function(){if(this.o){this.o=!1;this.C=!0;var a=(Date.now()-this.M)/15;this.c.x=(this.a.x-this.v.x)/a;this.c.y=(this.a.y-this.v.y)/a;r(this.c,-this.u,this.u);this.v.x=0;this.M=this.v.y=0;this.A=[];(Math.abs(this.c.x)>=this.D||Math.abs(this.c.y)>=this.D||0!=this.g.x||0!=this.g.y)&&this.da();for(var a=0,b=this.U.length;a<b;a++)this.U[a]()}};
function C(a){if(a.ga){if(a.R)if(0<=a.i.x){var b=a.a;b.x=Math.min(Math.max(b.x,a.f.I),a.f.G);if(a.a.x<=a.f.I||a.a.x>=a.f.G)a.c.x=-1*a.c.x*a.i.x}else{0!=a.g.x?(a.m.x=a.w.x,0!=a.g.x&&(b=a.i.x,a.o&&(b/=2),a.a.x+=F(a.g.x*(1+b)))):a.m.x=0;var c=b=0;0<(b=a.f.I-a.a.x)?a.g.x=b:0>(c=a.f.G-a.a.x)?a.g.x=c:a.g.x=0}if(a.S)if(0<=a.i.y){if(b=a.a,b.y=Math.min(Math.max(b.y,a.f.J),a.f.H),a.a.y<=a.f.J||a.a.y>=a.f.H)a.c.y=-1*a.c.y*a.i.y}else 0!=a.g.y?(a.m.y=a.w.y,0!=a.g.y&&(b=a.i.x,a.o&&(b/=2),a.a.y+=F(a.g.y*(1+b)))):
a.m.y=0,c=b=0,0<(b=a.f.J-a.a.y)?a.g.y=b:0>(c=a.f.H-a.a.y)?a.g.y=c:a.g.y=0}if(a.a.x!=a.B.x||a.a.y!=a.B.y){b=0;for(c=a.T.length;b<c;b++)a.T[b](a.a.x,a.a.y,a.c.x,a.c.y);a.B.x=a.a.x;a.B.y=a.a.y}}function F(a){a=a.toString();return parseFloat(a.substring(0,a.indexOf(".")+4))||0}
A.prototype.da=function(){if(this.C){this.O=!0;if(0<Math.abs(this.c.x)){var a=0<this.m.x?this.m.x:this.s.x;this.c.x=F(this.c.x*(1-a));this.a.x+=this.c.x;this.a.x=parseFloat(this.a.x.toFixed(3))}0<Math.abs(this.c.y)&&(a=0<this.m.y?this.m.y:this.s.y,this.c.y=F(this.c.y*(1-a)),this.a.y+=this.c.y,this.a.y=parseFloat(this.a.y.toFixed(3)));r(this.c,-this.u,this.u);C(this);0<Math.abs(this.c.x)||0<Math.abs(this.c.y)||0!=this.g.x||0!=this.g.y?this.K||(window.requestAnimationFrame||window.webkitRequestAnimationFrame||
window.mozRequestAnimationFrame)(this.da.bind(this)):this.O=!1}};function G(){this.m=[]}G.prototype.N=function(){throw Error("unimplemented abstract method");};G.prototype.getHandler=G.prototype.N;G.prototype.ja=function(a){this.m.push(a)};G.prototype.onHandlerChange=G.prototype.ja;function H(a,b){this.m=[];this.g=a;this.s={container:document.documentElement,elementBounds:"container",restitution:-.6,resizeUpdate:!0,autoAnchor:!0};this.b=b||{};this.f=this.g.getBoundingClientRect();this.i=new q(.5,.5);this.l=new q;this.c=new q;this.h=new q;this.a=null;this.o=this.j=!1;I(this)}
(function(){function a(){}a.prototype=G.prototype;H.c=G.prototype;H.prototype=new a;H.prototype.constructor=H;H.a=function(a,c,e){for(var b=Array(arguments.length-2),k=2;k<arguments.length;k++)b[k-2]=arguments[k];return G.prototype[c].apply(a,b)}})();H.prototype.b={};H.prototype.config=H.prototype.b;
H.prototype.ba=function(){var a=this.s;x(a,this.b);this.b=a;this.b.restitution&&!isNaN(this.b.restitution)&&this.a.Z(this.b.restitution);this.b.friction&&!isNaN(this.b.friction)&&this.a.W(this.b.friction);this.b.offsetFriction&&!isNaN(this.b.offsetFriction)&&this.a.Y(this.b.offsetFriction);this.b.threshold&&!isNaN(this.b.threshold)&&this.a.$(this.b.threshold);this.b.maxVelocity&&!isNaN(this.b.maxVelocity)&&this.a.X(this.b.maxVelocity)};H.prototype.updateSettings=H.prototype.ba;
H.prototype.aa=function(a){if(this.b.elementBounds&&(a||!this.b.bounds)){if("string"==typeof this.b.elementBounds){switch(this.b.elementBounds){case "parent":a=this.g.parentNode;a!=this.g?this.b.elementBounds=a:this.b.elementBounds=this.b.container;break;case "container":this.b.elementBounds=this.b.container||document.documentElement}this.b.elementBounds.nodeType===Node.DOCUMENT_NODE&&(this.b.elementBounds=document.documentElement)}this.b.elementBounds.nodeType===Node.ELEMENT_NODE&&(this.b.bounds=
this.b.elementBounds.getBoundingClientRect())}this.b.bounds&&this.a.ka(this.b.bounds.x+this.c.x,this.b.bounds.x+this.b.bounds.width-(this.f.width-this.c.x),this.b.bounds.y+this.c.y,this.b.bounds.y+this.b.bounds.height-(this.f.height-this.c.y))};H.prototype.updateBounds=H.prototype.aa;H.prototype.N=function(){return this.a};
H.prototype.update=function(a){(a=a&&!0===a)||this.ba();this.f=this.g.getBoundingClientRect();this.b.autoAnchor||(this.i.x=void 0!==this.b.anchorX?this.b.anchorX:this.i.x,this.i.y=void 0!==this.b.anchorY?this.b.anchorY:this.i.y,this.c.x=this.f.width*this.i.x,this.c.y=this.f.height*this.i.y);this.h.x=this.g.offsetLeft;this.h.y=this.g.offsetTop;for(var b=new q,c=this.g.parentElement;c;){if(c!=this.a.h){var e;e=window.getComputedStyle(c).position;if("relative"==e||"absolute"==e)e=c.getBoundingClientRect(),
e.left>b.x&&(b.x=e.left),e.top>b.y&&(b.y=e.top)}else break;c=c.parentElement}this.h.x+=b.x;this.h.y+=b.y;this.aa(!0);a||this.a.update()};H.prototype.update=H.prototype.update;H.prototype.reset=function(){this.F();this.restore()};H.prototype.reset=H.prototype.reset;H.prototype.F=function(){this.j=!0;this.a.F();delete this.a;this.a=null;var a=this.g;a.style.transform="";a.style[w()]=""};H.prototype.destroy=H.prototype.F;
H.prototype.restore=function(){this.j=!1;I(this);for(var a=0,b=this.m.length;a<b;a++)this.m[a](this.N())};H.prototype.restore=H.prototype.restore;function I(a){a.a=new A(a.b.container);a.a.onUp(a.u,a);a.a.onDown(a.v,a);a.a.onMove(a.w,a);a.ba();J(a);a.update();a.a.V();a.o=!1;a.l.x=0;a.l.y=0;a.b.resizeUpdate&&window.addEventListener("resize",function(){setTimeout(function(){J(this);this.update()}.bind(this),0)}.bind(a),!1)}function J(a){var b=D(a.a,a.g);a.a.setPosition(b.x+a.c.x,b.y+a.c.y,!0)}
H.prototype.v=function(a,b){if(this.j)return!1;var c=D(this.a,this.g),e;e=c.x;var g=c.y;e=a>=e&&a<e+this.f.width&&b>=g&&b<g+this.f.height;this.b.autoAnchor&&e&&(this.c.x=a-c.x,this.c.y=b-c.y,this.aa());return this.b.onDown&&(a=this.b.onDown(e,a,b,c.x,c.y,this.f.width,this.f.height),"boolean"==typeof a)?a:e};H.prototype.u=function(){if(!this.j&&this.b.onUp)this.b.onUp()};
H.prototype.w=function(a,b,c,e){if(!this.j&&(this.b.onMove&&(c=this.b.onMove(a,b,c,e),f(c)&&(c.hasOwnProperty("x")&&(a=parseFloat(c.x)),c.hasOwnProperty("y")&&(b=parseFloat(c.y)))),!this.j&&(a=a-this.c.x-this.h.x,b=b-this.c.y-this.h.y,this.b.lockAxis&&this.o&&f(this.b.lockAxis)&&(1==this.b.lockAxis.x&&(a=this.l.x),1==this.b.lockAxis.y&&(b=this.l.y)),c=this.g,e="translate3d("+a+"px,"+b+"px,0)",c.style.transform=e,c.style[w()]=e,this.l.x=a,this.l.y=b,this.o=!0,this.b.onTranslate)))this.b.onTranslate(a,
b,this.f.width,this.f.height,this.b.bounds?this.b.bounds:this.a.ia())};function K(a){this.f=a;this.g=this.f.getBoundingClientRect();this.c=null;this.h=this.a=0;this.c=new A(this.f.parentElement);this.c.onDown(this.i,this);this.c.onMove(this.j,this);this.c.V()}function L(a,b,c){return 180-180/Math.PI*Math.atan2(a-c,b-c)}K.prototype.i=function(a,b){this.h=L(a,b,this.g.width/2)-this.a;return!0};K.prototype.j=function(a,b){this.a=L(a,b,this.g.width/2)-this.h;this.a%=360;this.f.style.transform="rotate("+this.a+"deg)"};p("momentum.Handler",A);p("momentum.Draggable",H);p("momentum.Rotatable",K);function M(a,b){this.src=b||"";this.g=this.f=!1;this.a=[];this.c=document.createElement("script");this.i=document.body}M.prototype.h=function(){this.f=!0;for(var a=0,b=this.a.length;a<b;a++)this.a[a]()};var N={};function O(a){this.friction=a.s.x;this.restitution=a.i.x;this.offsetFriction=a.w.x;this.maxVelocity=a.u;this.threshold=a.D;this.velocityY=this.velocityX=0}function P(a){this.autoAnchor=!!a.b.autoAnchor;this.anchorX=a.b.anchorX||.5;this.anchorY=a.b.anchorY||.5;this.lockAxisX=a.b.lockAxis?!!a.b.lockAxis.x:!1;this.lockAxisY=a.b.lockAxis?!!a.b.lockAxis.y:!1;this.reset=function(){}}var Q;N.hasOwnProperty("datgui")||(N.datgui=new M(0,"https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.0/dat.gui.min.js"));
Q=N.datgui;function R(a,b){if(!(a instanceof G))throw Error("Invalid handler component given");this.f=a;this.h=b||null;this.a=null;this.c=[];Q.f?this.g():!window.hasOwnProperty("dat")||window.hasOwnProperty("dat")&&!dat.GUI?(Q.g||Q.f||(Q.g=!0,Q.c.onload=Q.h.bind(Q),Q.c.src=Q.src,Q.i.appendChild(Q.c)),a=this.g,this&&(a=n(a,this)),Q.a.push(a)):this.g()}R.prototype.g=function(){this.a=new dat.GUI({autoPlace:!this.h});this.h&&this.h.appendChild(this.a.domElement);this.f.ja(this.i.bind(this));S(this)};
R.prototype.i=function(){for(var a=0,b=this.c.length;a<b;a++)this.a.removeFolder(this.c[a]);this.c=[];S(this)};function S(a){T(a,a.f.N());a.f instanceof H&&U(a,a.f)}
function T(a,b){var c=new O(b),e=a.a.addFolder("Dynamics");e.add(c,"friction",0,1).onFinishChange(function(a){b.W(a)}.bind(a));var g=null;e.add(c,"restitution",-1,1).onFinishChange(function(a){b.Z(a);0>a&&"none"==g.style.display?g.style.display="block":0<=a&&"block"==g.style.display&&(g.style.display="none")}.bind(a));var k=e.add(c,"offsetFriction",0,1).onFinishChange(function(a){b.Y(a)}.bind(a)).name("offset friction"),g=z(k.domElement);0<=c.restitution&&(g.style.display="none");k=e.add(c,"maxVelocity",
0,100);e.add(c,"threshold",0).onFinishChange(function(a){b.$(a)});var m=c.maxVelocity,B=e.add(c,"velocityX",-m,m).step(.05).name("X-Velocity").listen(),V=e.add(c,"velocityY",-m,m).step(.05).name("Y-Velocity").listen();k.onFinishChange(function(a){B.min(-a).max(a);V.min(-a).max(a);b.X(a)});b.onMove(function(a,b,e,g){c.velocityX=e;c.velocityY=g});e.open();a.c.push(e)}
function U(a,b){var c=new P(b),e=a.a.addFolder("Draggable"),g=null,k=null;e.add(c,"autoAnchor").onFinishChange(function(a){b.b.autoAnchor=a;g&&k&&(g.style.display=a?"none":"",k.style.display=a?"none":"");a||void 0!==b.b.anchorX||(b.b.anchorX=c.anchorX);a||void 0!==b.b.anchorY||(b.b.anchorY=c.anchorY);b.update(!0)});var m=e.add(c,"anchorX",0,1).onFinishChange(function(a){b.b.anchorX=a;b.update(!0)}),B=e.add(c,"anchorY",0,1).onFinishChange(function(a){b.b.anchorY=a;b.update(!0)}),g=z(m.domElement),
k=z(B.domElement);b.b.autoAnchor&&(g.style.display="none",k.style.display="none");e.add(c,"lockAxisX").onFinishChange(function(a){b.b.lockAxis={x:a,y:c.lockAxisY};b.update(!0)});e.add(c,"lockAxisY").onFinishChange(function(a){b.b.lockAxis={x:c.lockAxisX,y:a};b.update(!0)});e.add(c,"reset").name("Reset draggable").onFinishChange(function(){b.reset()});a.c.push(e)};p("momentumdebug.Configurator",R);
